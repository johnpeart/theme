---
layout: default
---

<main id="content" class="container">

	<section id="page-content">

		{% if paginator.page == 1 %}
		<h1 class="page-title">Stream</h1>
		{{ page.content | markdownify }}
		<hr>
		{% endif %}

		{% for page in paginator.posts %}
			{% if page.collection == "posts" %}
			<article class="h-entry stream--item stream--item--blogpost">
				<aside class="stream--item--author">
					{% if page.date %}On <time class="dt-published" datetime="{{ page.date | date: '%FT%T%:z' }}">{{ page.date | date: '%d %B %Y' }}</time>, {% endif %}
					<span class="h-card p-author">
						<img class="photo u-photo memoji" alt="A Memoji avatar of John Peart" src="{{ site.url | append: '/assets/images/me/memoji.png' }}">
						<span class="p-name author--name"><a rel="author" class="p-author u-url u-uid" href="{{ site.url }}">John Peart</a></span>
					</span>
					<a href="{{ page.url }}" class="u-url">wrote a blogpost</a></span>
				</aside>
				<section class="e-content stream--item--content">
					{% if page.image %}<img class="post-image" src="{{ page.image | prepend: '/assets/images/' }}">{% endif %}
					<h1 class="post-title"><a href="{{ page.url }}">{{ page.title }}</a></h1>
					{{ page.excerpt | markdownify }}
				</section>
				{% include webmentions.html type="stream" %}
			</article>
			{% elsif page.collection == "reply" %}
			<article class="h-entry stream--item conversation-item stream--item--reply">
				{% include {{ page.collection | append: '.html' }} %}
				{% include webmentions.html type="stream" %}
			</article>
			{% else %}
			<article class="h-entry stream--item stream--item--{{ page.collection }}">
				<aside class="stream--item--author">
					{% if page.date %}On <time class="dt-published" datetime="{{ page.date | date: '%FT%T%:z' }}">{{ page.date | date: '%d %B %Y' }}</time>, {% endif %}
					<span class="h-card p-author">
						<img class="photo u-photo memoji" alt="A Memoji avatar of John Peart" src="{{ site.url | append: '/assets/images/me/memoji.png' }}">
						<span class="p-name author--name"><a rel="author" class="p-author u-url u-uid" href="{{ site.url }}">John Peart</a></span>
					</span>
					{% if page.collection == "polaroid" -%}<a href="{{ page.url }}" class="u-url">posted a photo</a>
					{% elsif page.collection == "note" -%}<a href="{{ page.url }}" class="u-url">wrote a note</a>
					{% elsif page.collection == "list" -%}<a href="{{ page.url }}" class="u-url">wrote a list</a>
					{% else -%}<a href="{{ page.url }}" class="u-url">posted</a>{%- endif -%}
				</aside>
				<section class="e-content stream--item--content stream--item--{{ page.collection }}--content">
					{% include {{ page.collection | append: '.html' }} %}
				</section>
				{% include webmentions.html type="stream" %}
			</article>
			{% endif %}
		{% endfor %}

		{% include pagination.html %}

	</section>

</main>
